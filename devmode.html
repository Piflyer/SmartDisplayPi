<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.jsdelivr.net/gh/CoderUltraSonic/Jaxit@v3.02.3/jaxit.min.js"></script>
    <script src="https://unpkg.com/hotkeys-js/dist/hotkeys.min.js"></script>
    <script type="text/javascript">
        hotkeys('ctrl+c', function (event) {
            event.preventDefault();
            window.location = "settings.html";
        });
    </script>
    <style>
        @import url('https://cdn.jsdelivr.net/gh/CoderUltraSonic/Jaxit@v3.02.3/jaxit.css');
    </style>
</head>

<body>

    <script>

        let jax = createJaxit();

        jax.init();
        jax.defaultStyle();
        jax.changeLocation('fullscreen');

        jax.print('You are about to enter [DEV MODE] which will allow you to make breaking changes to your pi.', jax.colors.white);
        jax.scan('Are you sure you want to continue? (y/n): ', "white", "white", false, function (userInput) {
            if (userInput == "y") {
                console.log("Entering [DEV MODE]")
                jax.print("Rebooting and entering [DEV MODE] (CTRL+C to cancel) in:")
                jax.print("5")
                jax.delay(function () {
                    jax.print('4');
                }, 1);
                jax.delay(function () {
                    jax.print('3');
                }, 2);
                jax.delay(function () {
                    jax.print('2');
                }, 3);
                jax.delay(function () {
                    jax.print('1');
                }, 4);
                jax.delay(function () {
                    jax.print('0');
                }, 5);
                setTimeout(function () {
                    const Store = require('electron-store');
                    const settings = new Store();
                    settings.set("devMode", true);
                    console.log("Rebooting");
                    require('reboot').reboot();
                }, 5100)
            }
            else {
                console.log("Canceled");
                window.location = "settings.html";
            }
        });
    </script>
</body>

</html>